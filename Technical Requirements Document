# Technical Requirements Document
## Smart ATM App

---

## üìã Project Overview

A React-based ATM simulation application that demonstrates modern banking operations with a focus on clean architecture, state management, and user experience. Built for a team of 4 developers.

---

## üõ†Ô∏è Technology Stack

| Category | Technology | Version | Purpose |
|----------|-----------|---------|---------|
| **Framework** | React | 18.x | UI development |
| **Build Tool** | Vite | 5.x | Fast development and bundling |
| **Language** | TypeScript | 5.x | Type safety and developer experience |
| **UI Library** | ShadCN/UI | Latest | Pre-built accessible components |
| **Styling** | Tailwind CSS | 3.4.17 | Utility-first styling |
| **Routing** | React Router DOM | 6.x | Client-side routing |
| **State Management** | Zustand | 4.x | Global state management |
| **Server State** | TanStack Query | 5.x | API data fetching and caching |
| **Form Management** | Formik | 2.x | Form state and validation |
| **Validation** | Yup | 1.x | Schema-based validation |
| **Notifications** | Sonner (via ShadCN) | Latest | Toast notifications |

---

## üèóÔ∏è Architecture & Project Structure

```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ui/              # ShadCN components (button, card, input, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ layout/          # Layout components (Header, Sidebar, Footer)
‚îÇ   ‚îú‚îÄ‚îÄ auth/            # Login form, protected route wrapper
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/       # Dashboard widgets and cards
‚îÇ   ‚îú‚îÄ‚îÄ transactions/    # Transaction forms and history
‚îÇ   ‚îî‚îÄ‚îÄ currency/        # Currency watchlist components
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ LoginPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ DashboardPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ DepositPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ WithdrawPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ HistoryPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ WatchlistPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ SettingsPage.tsx
‚îÇ   ‚îî‚îÄ‚îÄ NotFoundPage.tsx
‚îú‚îÄ‚îÄ stores/
‚îÇ   ‚îú‚îÄ‚îÄ authStore.ts     # Authentication state (Zustand)
‚îÇ   ‚îú‚îÄ‚îÄ watchlistStore.ts # Currency watchlist state (Zustand)
‚îÇ   ‚îî‚îÄ‚îÄ uiStore.ts       # UI state (theme, modals, etc.)
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ api.ts           # Axios/fetch configuration
‚îÇ   ‚îî‚îÄ‚îÄ mockApi.ts       # Mock API endpoints
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useAuth.ts       # Authentication logic
‚îÇ   ‚îú‚îÄ‚îÄ useTransactions.ts # TanStack Query hooks
‚îÇ   ‚îú‚îÄ‚îÄ useUser.ts       # User data fetching
‚îÇ   ‚îî‚îÄ‚îÄ useCurrency.ts   # Currency data fetching
‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îú‚îÄ‚îÄ loginSchema.ts   # Yup validation for login
‚îÇ   ‚îú‚îÄ‚îÄ depositSchema.ts # Yup validation for deposits
‚îÇ   ‚îî‚îÄ‚îÄ withdrawSchema.ts # Yup validation for withdrawals
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îú‚îÄ‚îÄ user.ts          # User type definitions
‚îÇ   ‚îú‚îÄ‚îÄ transaction.ts   # Transaction type definitions
‚îÇ   ‚îî‚îÄ‚îÄ currency.ts      # Currency type definitions
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ constants.ts     # App constants
‚îÇ   ‚îú‚îÄ‚îÄ helpers.ts       # Utility functions
‚îÇ   ‚îî‚îÄ‚îÄ dateUtils.ts     # Date formatting and comparison
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îî‚îÄ‚îÄ index.tsx        # Route configuration
‚îî‚îÄ‚îÄ App.tsx
```

---

## üéØ Core Technical Requirements

### 1. Authentication & Protected Routes

**Responsibilities:** Team Member 1

- **Login System**
  - Use Formik + Yup for form management and validation
  - Validate username (required, min 3 characters)
  - Validate PIN (required, exact format matching)
  - Store auth state in Zustand (`authStore`)
  - Use TanStack Query to fetch user data from mock API
  - Handle loading and error states

- **Protected Routes**
  - Create `ProtectedRoute` wrapper component
  - Check authentication status from `authStore`
  - Redirect to `/` if not authenticated
  - Redirect to `/dashboard` if authenticated user tries to access login

**Technical Implementation:**
```typescript
// authStore.ts (Zustand with localStorage persistence)
import { create } from 'zustand';
import { persist, createJSONStorage } from 'zustand/middleware';

interface AuthState {
  user: User | null;
  isAuthenticated: boolean;
  login: (user: User) => void;
  logout: () => void;
}

export const useAuthStore = create<AuthState>()(
  persist(
    (set) => ({
      user: null,
      isAuthenticated: false,
      login: (user) => set({ user, isAuthenticated: true }),
      logout: () => set({ user: null, isAuthenticated: false }),
    }),
    {
      name: 'auth-storage', // localStorage key
      storage: createJSONStorage(() => localStorage),
    }
  )
);

// useAuth.ts (TanStack Query)
const useLogin = () => {
  const login = useAuthStore((state) => state.login);
  
  return useMutation({
    mutationFn: (credentials: LoginCredentials) => 
      api.post('/users/verify', credentials),
    onSuccess: (data) => {
      login(data);
      toast.success('Login successful!');
    },
    onError: () => {
      toast.error('Invalid credentials');
    }
  });
};
```

---

### 2. Dashboard & Balance Management

**Responsibilities:** Team Member 2

- **Dashboard Page**
  - Display user profile (name, avatar)
  - Show current balance with color coding:
    - Green: balance > 0
    - Red: balance === 0
  - Quick action buttons (Deposit, Withdraw, Transfer)
  - Summary cards (total deposits, withdrawals, current balance)

- **Balance Updates**
  - Use TanStack Query's `useMutation` for transactions
  - Automatically invalidate and refetch balance after mutations
  - Optimistic updates for instant UI feedback

- **Birthday Popup**
  - Check birthday on dashboard mount
  - Use sessionStorage to track if popup was shown (once per session)
  - Use ShadCN Dialog component
  - Optional: Confetti animation (react-confetti library)

**Technical Implementation:**
```typescript
// hooks/useUser.ts
const useUserData = (userId: number) => {
  return useQuery({
    queryKey: ['user', userId],
    queryFn: () => api.get(`/users/${userId}`),
    staleTime: 1000 * 60 * 5, // 5 minutes
  });
};

// components/BirthdayPopup.tsx
const BirthdayPopup = ({ user }: { user: User }) => {
  const [showPopup, setShowPopup] = useState(false);
  
  useEffect(() => {
    const hasShownToday = sessionStorage.getItem('birthday-shown');
    const isToday = isBirthday(user.birthday);
    
    if (isToday && !hasShownToday) {
      setShowPopup(true);
      sessionStorage.setItem('birthday-shown', 'true');
    }
  }, [user]);
  
  return showPopup ? <Dialog>...</Dialog> : null;
};
```

---

### 3. Transactions (Deposit & Withdraw)

**Responsibilities:** Team Member 3

- **Deposit Page**
  - Formik form with amount input
  - Yup schema validation:
    - Required field
    - Positive number
    - Maximum 2 decimal places
  - Currency selector (ILS, USD, EUR, JOD)
  - Submit using TanStack Query mutation
  - Toast notification on success/error

- **Withdraw Page**
  - Similar to deposit with additional validation:
    - Amount must be ‚â§ current balance
  - Real-time balance check
  - Custom Yup validation for insufficient funds

- **Transaction History Page**
  - Fetch transactions with TanStack Query
  - Implement pagination (10 transactions per page)
  - Filter by transaction type (Deposit, Withdraw, Transfer)
  - Display in ShadCN Table component
  - Format dates using date-fns or dayjs

**Technical Implementation:**
```typescript
// schemas/depositSchema.ts
const depositSchema = yup.object({
  amount: yup
    .number()
    .required('Amount is required')
    .positive('Amount must be positive')
    .test('decimal', 'Maximum 2 decimal places', 
      (val) => /^\d+(\.\d{1,2})?$/.test(String(val))
    ),
  currency: yup.string().required('Currency is required'),
});

// hooks/useTransactions.ts
const useCreateTransaction = () => {
  const queryClient = useQueryClient();
  
  return useMutation({
    mutationFn: (transaction: NewTransaction) => 
      api.post('/transactions', transaction),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['user'] });
      queryClient.invalidateQueries({ queryKey: ['transactions'] });
      toast.success('Transaction completed successfully!');
    },
    onError: (error) => {
      toast.error('Transaction failed. Please try again.');
    }
  });
};
```

---

### 4. Currency Watchlist & Settings

**Responsibilities:** Team Member 4

- **Currency Watchlist**
  - Fetch currencies from mock API using TanStack Query
  - Display all currencies with exchange rates
  - Star button to add/remove from watchlist
  - Store watchlist in Zustand (in-memory only)
  - Separate Watchlist page showing only starred currencies

- **Settings Page**
  - Dark/Light theme toggle (stored in Zustand)
  - Reset account functionality:
    - Confirmation dialog (ShadCN AlertDialog)
    - DELETE request to mock API
    - Reset balance to 0
    - Clear all transactions
  - User preferences

- **404 Page**
  - Custom not found page with friendly message
  - Navigation back to dashboard
  - Use react-router-dom's errorElement

**Technical Implementation:**
```typescript
// watchlistStore.ts
interface WatchlistState {
  currencies: string[]; // ['USD', 'EUR']
  addCurrency: (code: string) => void;
  removeCurrency: (code: string) => void;
  isCurrencyInWatchlist: (code: string) => boolean;
}

// hooks/useCurrency.ts
const useCurrencies = () => {
  return useQuery({
    queryKey: ['currencies'],
    queryFn: () => api.get('/currencies'),
    staleTime: 1000 * 60 * 60, // 1 hour
  });
};

// Reset account
const useResetAccount = () => {
  return useMutation({
    mutationFn: (userId: number) => 
      api.delete(`/users/${userId}/reset`),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['user'] });
      toast.success('Account reset successfully');
    }
  });
};
```

---

## üîó API Integration (Mock API)

### Mock API Setup (MockAPI.io)

**Endpoints Required:**

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/users/:id` | Get user details and balance |
| POST | `/users/verify` | Verify login credentials |
| POST | `/transactions` | Create new transaction |
| GET | `/transactions?userId=:id` | Get user transactions (paginated) |
| GET | `/currencies` | Get currency exchange rates |
| DELETE | `/users/:id/reset` | Reset account data |

**Error Handling:**
- API rate limit exceeded ‚Üí Show error toast
- Network error ‚Üí Retry with TanStack Query
- 404 Not Found ‚Üí Handle gracefully
- 401 Unauthorized ‚Üí Redirect to login

**TanStack Query Configuration:**
```typescript
// services/api.ts
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      retry: 2,
      staleTime: 1000 * 60, // 1 minute
      refetchOnWindowFocus: false,
    },
    mutations: {
      retry: 1,
    }
  }
});
```

---

## üé® UI/UX Requirements

### ShadCN Components to Use

- **Forms:** Input, Label, Button
- **Feedback:** Toast (Sonner), Alert, AlertDialog
- **Layout:** Card, Separator
- **Data Display:** Table, Badge, Avatar
- **Navigation:** Sheet (mobile menu)
- **Overlays:** Dialog, Popover

### Styling Guidelines

- Use Tailwind CSS utility classes
- Follow ShadCN's design tokens
- Responsive design (mobile-first)
- Dark mode support via CSS variables
- Consistent spacing (4px base unit)

---

## üß™ Validation Schemas

### Login Schema
```typescript
const loginSchema = yup.object({
  username: yup
    .string()
    .required('Username is required')
    .min(3, 'Username must be at least 3 characters'),
  pin: yup
    .string()
    .required('PIN is required')
    .matches(/^[A-Z][a-z]\d{4}$/, 'Invalid PIN format'),
});
```

### Withdraw Schema
```typescript
const withdrawSchema = yup.object({
  amount: yup
    .number()
    .required('Amount is required')
    .positive('Amount must be positive')
    .test('sufficient-balance', 'Insufficient balance', 
      function(value) {
        const { balance } = this.options.context;
        return value <= balance;
      }
    ),
});
```

---

## üì± Routing Configuration

```typescript
// routes/index.tsx
const router = createBrowserRouter([
  {
    path: '/',
    element: <LoginPage />,
  },
  {
    element: <ProtectedRoute />,
    children: [
      { path: '/dashboard', element: <DashboardPage /> },
      { path: '/deposit', element: <DepositPage /> },
      { path: '/withdraw', element: <WithdrawPage /> },
      { path: '/history', element: <HistoryPage /> },
      { path: '/watchlist', element: <WatchlistPage /> },
      { path: '/settings', element: <SettingsPage /> },
    ]
  },
  {
    path: '*',
    element: <NotFoundPage />,
  }
]);
```

---

## üß© Team Division of Work

### Sprint Planning Overview

**Total Duration:** 3 Sprints (2 weeks)  
**Sprint Length:** 4-5 days each

---

### üë§ Team Member 1: Authentication & Core Infrastructure Lead
**GitHub Username:** `@member1`  
**Branch Prefix:** `feat/auth-`

#### Features & Responsibilities:
1. **Project Setup & Configuration** ‚öôÔ∏è
   - Initialize Vite + React + TypeScript project
   - Configure Tailwind CSS and ShadCN/UI
   - Set up ESLint, Prettier, and Husky
   - Create `.env.example` and environment configuration
   - Set up folder structure
   - **Time:** 3-4 hours

2. **Authentication System** üîê
   - Login page with Formik + Yup validation
   - Auth store (Zustand) with login/logout actions
   - TanStack Query hook for login mutation (`useLogin`)
   - Protected route wrapper component
   - Session management (check if birthday popup shown)
   - **Time:** 6-8 hours

3. **Routing Infrastructure** üó∫Ô∏è
   - React Router DOM configuration
   - Route protection logic
   - Navigation guards
   - 404 Not Found page with redirect
   - **Time:** 3-4 hours

4. **Mock API Integration** üîå
   - Set up MockAPI.io account and endpoints
   - Create API service layer (`services/api.ts`)
   - Configure Axios/fetch with base URL
   - Error interceptors and handling
   - **Time:** 2-3 hours

**Total Estimated Hours:** 14-19 hours

**Git Branches:**
- `feat/auth-setup-project`
- `feat/auth-login-page`
- `feat/auth-protected-routes`
- `feat/auth-mock-api-setup`

---

### üë§ Team Member 2: Dashboard & Balance Management Lead
**GitHub Username:** `@member2`  
**Branch Prefix:** `feat/dashboard-`

#### Features & Responsibilities:
1. **Dashboard Page** üè†
   - User profile section (avatar, name, welcome message)
   - Balance display with color coding (green/red)
   - Quick action buttons (Deposit, Withdraw, Transfer)
   - Summary cards (total deposits, withdrawals, balance)
   - Responsive layout with ShadCN cards
   - **Time:** 5-6 hours

2. **Balance Management** üí∞
   - User data fetching with TanStack Query (`useUserData`)
   - Real-time balance updates after transactions
   - Optimistic UI updates
   - Balance color indicator logic
   - Query invalidation patterns
   - **Time:** 3-4 hours

3. **Birthday Popup Feature** üéÇ
   - Birthday check utility function
   - UI store for tracking popup state (Zustand)
   - Birthday dialog component (ShadCN Dialog)
   - Session-based popup display (once per login)
   - Optional: Confetti animation integration
   - **Time:** 3-4 hours

4. **Layout Components** üé®
   - Header with user info and logout button
   - Sidebar/navigation menu
   - Footer component
   - Mobile responsive navigation
   - **Time:** 3-4 hours

**Total Estimated Hours:** 14-18 hours

**Git Branches:**
- `feat/dashboard-main-page`
- `feat/dashboard-balance-display`
- `feat/dashboard-birthday-popup`
- `feat/dashboard-layout-components`

---

### üë§ Team Member 3: Transactions & History Lead
**GitHub Username:** `@member3`  
**Branch Prefix:** `feat/transaction-`

#### Features & Responsibilities:
1. **Deposit Feature** ‚ûï
   - Deposit page with form (Formik)
   - Yup validation schema (positive amount, decimals)
   - Currency selector component
   - TanStack Query mutation (`useCreateDeposit`)
   - Success/error toast notifications
   - **Time:** 4-5 hours

2. **Withdraw Feature** ‚ûñ
   - Withdraw page with form (Formik)
   - Advanced Yup validation (balance check)
   - Real-time balance verification
   - Insufficient funds error handling
   - TanStack Query mutation (`useCreateWithdraw`)
   - Toast notifications
   - **Time:** 4-5 hours

3. **Transaction History** üìú
   - History page with transaction list
   - TanStack Query for fetching transactions (`useTransactions`)
   - Pagination component (10 items per page)
   - Filter by transaction type (Deposit, Withdraw, Transfer)
   - Transaction card/table component
   - Date formatting (date-fns)
   - **Time:** 5-6 hours

4. **Validation Schemas** ‚úÖ
   - Create all Yup schemas (`schemas/` folder)
   - Custom validation rules
   - Error message customization
   - Reusable validation utilities
   - **Time:** 2-3 hours

**Total Estimated Hours:** 15-19 hours

**Git Branches:**
- `feat/transaction-deposit`
- `feat/transaction-withdraw`
- `feat/transaction-history`
- `feat/transaction-validation-schemas`

---

### üë§ Team Member 4: Watchlist, Settings & UX Lead
**GitHub Username:** `@member4`  
**Branch Prefix:** `feat/settings-`

#### Features & Responsibilities:
1. **Currency Watchlist** üíπ
   - Currency list page (all currencies with rates)
   - TanStack Query hook (`useCurrencies`)
   - Star button component for add/remove
   - Watchlist store (Zustand) - in-memory only
   - Watchlist page (filtered view of starred currencies)
   - Currency card component
   - **Time:** 5-6 hours

2. **Settings & Reset Feature** ‚öôÔ∏è
   - Settings page layout
   - Account reset functionality
   - Confirmation dialog (ShadCN AlertDialog)
   - TanStack Query mutation (`useResetAccount`)
   - User preferences UI
   - **Time:** 3-4 hours

3. **Theme System** üåì
   - Dark/Light mode toggle
   - UI store for theme state (Zustand)
   - Tailwind dark mode configuration
   - Persistent theme switching
   - Theme provider component
   - **Time:** 3-4 hours

4. **Toast Notification System** üîî
   - Configure Sonner toast provider
   - Create toast utility helpers
   - Toast component customization
   - Success/error/info toast variants
   - **Time:** 2-3 hours

5. **Error Handling & Loading States** ‚ö†Ô∏è
   - Error boundary component
   - Loading skeleton components
   - Empty state components
   - API error handling utilities
   - **Time:** 2-3 hours

**Total Estimated Hours:** 15-20 hours

**Git Branches:**
- `feat/settings-watchlist`
- `feat/settings-reset-account`
- `feat/settings-theme-toggle`
- `feat/settings-toast-system`
- `feat/settings-error-handling`

---

## üîÑ Git & GitHub Workflow

### Repository Structure

```
smart-atm-app/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îú‚îÄ‚îÄ workflows/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ci.yml              # CI pipeline
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pr-checks.yml       # PR validation
‚îÇ   ‚îî‚îÄ‚îÄ pull_request_template.md
‚îú‚îÄ‚îÄ .husky/
‚îÇ   ‚îú‚îÄ‚îÄ pre-commit              # Run linter before commit
‚îÇ   ‚îî‚îÄ‚îÄ pre-push                # Run tests before push
‚îî‚îÄ‚îÄ [source code]
```

---

### Branch Strategy

**Main Branches:**
- `main` - Production-ready code (protected)
- `develop` - Integration branch for features (protected)

**Feature Branches:**
- `feat/[prefix]-[feature-name]` - New features
- `fix/[prefix]-[bug-name]` - Bug fixes
- `refactor/[prefix]-[description]` - Code refactoring
- `docs/[description]` - Documentation updates

**Examples:**
```bash
feat/auth-login-page
feat/dashboard-balance-display
feat/transaction-deposit
feat/settings-watchlist
fix/auth-validation-error
refactor/dashboard-components
```

---

### Workflow Process

#### Phase 1: Setup (Day 1)
**Lead:** Team Member 1

1. **Repository Initialization**
```bash
# Member 1 creates repository and base setup
git checkout -b feat/auth-setup-project
# Complete project setup
git add .
git commit -m "feat: initial project setup with Vite, TypeScript, and Tailwind"
git push origin feat/auth-setup-project
# Create PR to develop
```

2. **Team Clones and Syncs**
```bash
# All members
git clone [repository-url]
cd smart-atm-app
git checkout develop
git pull origin develop
```

---

#### Phase 2: Sprint 1 - Core Features (Days 2-5)

**Daily Workflow for Each Team Member:**

1. **Start New Feature**
```bash
# Sync with latest develop
git checkout develop
git pull origin develop

# Create feature branch
git checkout -b feat/[prefix]-[feature-name]
```

2. **Development**
```bash
# Make changes and commit regularly
git add .
git commit -m "feat: add login form with validation"

# Push to remote
git push origin feat/[prefix]-[feature-name]
```

3. **Create Pull Request**
- Go to GitHub repository
- Click "New Pull Request"
- Base: `develop` ‚Üê Compare: `feat/[prefix]-[feature-name]`
- Fill in PR template:

```markdown
## Description
Brief description of changes

## Type of Change
- [ ] New feature
- [ ] Bug fix
- [ ] Refactoring
- [ ] Documentation

## Features Implemented
- Feature 1
- Feature 2

## Screenshots (if applicable)
[Add screenshots]

## Checklist
- [ ] Code follows project style guidelines
- [ ] Self-review completed
- [ ] Comments added for complex logic
- [ ] No console.log statements
- [ ] TypeScript types are properly defined
- [ ] Tested on Chrome and Firefox
- [ ] Responsive design verified

## Related Issues
Closes #[issue-number]
```

4. **Code Review Process**
- **Assign reviewers:** Minimum 2 team members
- **Review guidelines:**
  - Check code quality and TypeScript types
  - Verify component structure
  - Test functionality locally
  - Check for console errors
  - Verify mobile responsiveness

5. **Approval & Merge**
```bash
# After approval, reviewer merges to develop
# Merge strategy: "Squash and merge" preferred

# All members sync after merge
git checkout develop
git pull origin develop
```

---

#### Phase 3: Sprint 2 - Integration (Days 6-9)

**Integration Tasks:**
- Member 1: Integrate auth with dashboard
- Member 2: Connect balance with transactions
- Member 3: Link transactions with history
- Member 4: Connect watchlist with settings

**Integration Branch Naming:**
```bash
integrate/auth-dashboard
integrate/transactions-history
integrate/watchlist-settings
```

---

#### Phase 4: Sprint 3 - Testing & Polish (Days 10-14)

**Final Tasks:**
1. **Bug Fixes** (All members)
2. **E2E Testing** (Member 3 & 4)
3. **UI Polish** (Member 2 & 4)
4. **Documentation** (Member 1)
5. **Deployment Prep** (Member 1)

**Testing Branch:**
```bash
git checkout -b test/final-integration
# Test all features together
# Fix any bugs found
```

---

### Commit Message Convention

Follow [Conventional Commits](https://www.conventionalcommits.org/):

```bash
# Format
<type>(<scope>): <subject>

# Types
feat:      New feature
fix:       Bug fix
refactor:  Code refactoring
style:     Formatting changes
docs:      Documentation
test:      Adding tests
chore:     Build process or auxiliary tools

# Examples
feat(auth): add login form with validation
fix(dashboard): correct balance color logic
refactor(transaction): simplify deposit form
docs(readme): add installation instructions
```

---

### Pull Request Guidelines

**PR Size:** Keep PRs small (< 400 lines changed)

**PR Review Checklist:**
- [ ] Code compiles without errors
- [ ] No TypeScript errors
- [ ] No `any` types used
- [ ] All components are properly typed
- [ ] No hardcoded values (use constants)
- [ ] Error handling is implemented
- [ ] Loading states are handled
- [ ] Mobile responsive
- [ ] Accessible (ARIA labels, keyboard navigation)
- [ ] No console.log statements
- [ ] Comments added for complex logic

**Review Response Time:** Maximum 24 hours

---

### Conflict Resolution

**When conflicts occur:**

```bash
# 1. Sync with develop
git checkout develop
git pull origin develop

# 2. Rebase your branch
git checkout feat/your-branch
git rebase develop

# 3. Resolve conflicts
# Edit conflicting files
git add .
git rebase --continue

# 4. Force push (only to your feature branch!)
git push --force origin feat/your-branch
```

---

### Daily Standup (Async via GitHub)

**Each morning, post in GitHub Discussions:**

```markdown
## Daily Update - [Date]
**Team Member:** [Name]

### Yesterday
- Completed: [tasks]
- Merged PRs: #[PR numbers]

### Today
- Working on: [tasks]
- Expected PRs: [feature names]

### Blockers
- [Any issues or dependencies]
```

---

### Sprint Board (GitHub Projects)

**Columns:**
1. **Backlog** - All features to be built
2. **To Do** - Sprint tasks
3. **In Progress** - Currently working
4. **Review** - Pull requests under review
5. **Testing** - Merged to develop, testing needed
6. **Done** - Completed and tested

**Move cards as you progress!**

---

### CI/CD Pipeline (Optional but Recommended)

**`.github/workflows/ci.yml`**
```yaml
name: CI

on:
  pull_request:
    branches: [develop, main]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm ci
      - run: npm run lint
      - run: npm run type-check
      - run: npm run build
```

---

## üìã Sprint Timeline

| Sprint | Duration | Focus | Deliverables |
|--------|----------|-------|--------------|
| **Sprint 0** | Day 1 | Setup | Project initialized, all members have access |
| **Sprint 1** | Days 2-5 | Core Features | Login, Dashboard, Deposit/Withdraw, Watchlist basics |
| **Sprint 2** | Days 6-9 | Integration | All features connected, data flow working |
| **Sprint 3** | Days 10-14 | Polish & Testing | Bug fixes, UI improvements, documentation |

---

## üéØ Success Metrics

- [ ] All PRs reviewed within 24 hours
- [ ] Zero `console.log` in production code
- [ ] 100% TypeScript coverage (no `any`)
- [ ] All features tested on mobile
- [ ] Zero merge conflicts in main
- [ ] All team members contribute equally
- [ ] Documentation is complete

---

## ‚úÖ Acceptance Criteria

### Functionality
- [ ] User can log in with valid credentials
- [ ] User is redirected to dashboard after login
- [ ] Balance updates correctly after transactions
- [ ] Deposit form validates and submits successfully
- [ ] Withdraw form checks balance before allowing withdrawal
- [ ] Transaction history displays all transactions with pagination
- [ ] Currency watchlist adds/removes currencies correctly
- [ ] Birthday popup appears once per session on user's birthday
- [ ] Account reset clears balance and transactions
- [ ] 404 page displays for invalid routes
- [ ] Toast notifications appear for all actions

### Technical
- [ ] All forms use Formik + Yup
- [ ] All API calls use TanStack Query
- [ ] Global state managed with Zustand
- [ ] Routing implemented with React Router DOM
- [ ] UI built with ShadCN + Tailwind CSS
- [ ] TypeScript used throughout (no `any` types)
- [ ] Error boundaries implemented
- [ ] Loading states handled gracefully
- [ ] Mock API errors handled appropriately

### UI/UX
- [ ] Responsive design (mobile, tablet, desktop)
- [ ] Dark/Light mode toggle works correctly
- [ ] Animations and transitions are smooth
- [ ] Forms have proper validation messages
- [ ] All interactive elements have hover states
- [ ] Accessibility standards met (ARIA labels, keyboard navigation)

---

## üöÄ Getting Started

### Prerequisites
```bash
Node.js >= 18.x
npm >= 9.x or yarn >= 1.22.x
```

### Installation
```bash
# Clone repository
git clone [repository-url]

# Install dependencies
npm install

# Set up environment variables
cp .env.example .env

# Start development server
npm run dev
```

### Environment Variables
```env
VITE_API_BASE_URL=https://[your-mockapi-id].mockapi.io/api/v1
VITE_APP_NAME=Smart ATM App
```

---

## üìö Additional Resources

- [ShadCN/UI Documentation](https://ui.shadcn.com/)
- [TanStack Query Documentation](https://tanstack.com/query/latest)
- [Formik Documentation](https://formik.org/)
- [Yup Documentation](https://github.com/jquense/yup)
- [Zustand Documentation](https://docs.pmnd.rs/zustand)
- [React Router Documentation](https://reactrouter.com/)
- [MockAPI.io Documentation](https://mockapi.io/docs)

---

## üêõ Common Issues & Solutions

### Mock API Rate Limiting
**Problem:** Exceeded API request limit  
**Solution:** Implement proper caching with TanStack Query, increase `staleTime`

### Form Validation Not Working
**Problem:** Yup schema not validating  
**Solution:** Ensure schema is properly connected to Formik's `validationSchema` prop

### State Not Persisting
**Problem:** Watchlist resets on page refresh  
**Solution:** This is expected behavior (in-memory only). Document clearly for users.

### Protected Routes Not Working
**Problem:** Can access dashboard without login  
**Solution:** Check that `authStore` is properly initialized and `ProtectedRoute` checks authentication

---

## üìù Notes

- **Authentication Storage:** User authentication is persisted in localStorage using Zustand's persist middleware for better UX (survives page refresh)
- **Birthday Popup:** Uses sessionStorage to show popup once per browser session
- **Watchlist Storage:** In-memory only (Zustand store without persistence) - resets on page refresh as per requirements
- **Mock API Limitations:** Be aware of MockAPI.io's free tier limits
- **TypeScript:** Maintain strict type safety throughout the project
- **Code Quality:** Follow ESLint and Prettier configurations
- **Git Workflow:** Use feature branches and pull requests for all changes

---

**Document Version:** 1.0  
**Last Updated:** October 30, 2025  
**Prepared for:** 4-Member Development Team
